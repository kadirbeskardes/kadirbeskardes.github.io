@page "/projects"
@using Personal.Models
@using Personal.Services
@inject ProjectService ProjectService
@inject LocalizationService L

<PageTitle>@L["Meta_ProjectsOgTitle"]</PageTitle>
<HeadContent>
    <meta name="description" content="@L["Meta_ProjectsDescription"]">
    <meta property="og:title" content="@L["Meta_ProjectsOgTitle"]">
    <meta property="og:description" content="@L["Meta_ProjectsOgDescription"]">
    <meta property="og:url" content="https://kadirbeskardes.github.io/projects">
    <meta property="og:type" content="website">
    <meta name="twitter:title" content="@L["Meta_ProjectsTwitterTitle"]">
    <meta name="twitter:description" content="@L["Meta_ProjectsTwitterDescription"]">
    <link rel="canonical" href="https://kadirbeskardes.github.io/projects">
</HeadContent>

<div class="projects-page">
    <!-- Hero Section -->
    <section class="projects-hero text-white py-5 position-relative overflow-hidden">
        <div class="hero-bg-pattern"></div>
        <div class="container py-5 position-relative" style="z-index: 2;">
            <div class="row align-items-center">
                <div class="col-lg-8 mx-auto text-center">
                    <span class="badge bg-white bg-opacity-20 text-white rounded-pill px-3 py-2 mb-3 animate__animated animate__fadeInDown">
                        <i class="bi bi-code-slash me-2"></i>Portfolio
                    </span>
                    <h1 class="display-3 fw-bold mb-3 animate__animated animate__fadeInDown animate__delay-1s">@L["Projects_Title"]</h1>
                    <p class="lead mb-5 text-white-50 animate__animated animate__fadeInUp animate__delay-1s">@L["Projects_Subtitle"]</p>
                    <div class="animate__animated animate__fadeInUp animate__delay-2s">
                        <a href="#projects-grid" class="btn btn-light btn-lg px-5 rounded-pill shadow-lg hover-scale">
                            <i class="bi bi-arrow-down-circle me-2"></i>@L["Projects_Explore"]
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Grid -->
    <section id="projects-grid" class="py-5 position-relative" style="background: var(--dark-color);">
        <div class="container py-4">
            @if (projects == null)
            {
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3 text-light opacity-75 fw-medium">@L["Projects_Loading"]</p>
                </div>
            }
            else if (!projects.Any())
            {
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <div class="alert alert-warning text-center py-5 border-0 shadow-sm rounded-4" style="background: rgba(30, 41, 59, 0.6); color: var(--light-color); border: 1px solid rgba(245, 158, 11, 0.3);">
                            <i class="bi bi-clipboard-x display-1 text-warning mb-3 d-block"></i>
                            <h4 class="alert-heading mt-3 fw-bold">@L["Projects_NoProjects"]</h4>
                            <p class="mb-0 opacity-75">@L["Projects_NoProjectsDescription"]</p>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="row g-4">
                    @foreach (var project in projects)
                    {
                        <div class="col-xl-4 col-md-6 d-flex align-items-stretch" @key="project.Id">
                            <div class="project-card card-enhanced h-100 border-0 shadow-sm overflow-hidden w-100">
                                <div class="card-img-wrapper position-relative">
                                    <img src="@project.ImageUrl" class="card-img-top project-image" alt="@project.Title" loading="lazy">
                                    <div class="project-overlay d-flex flex-column justify-content-center align-items-center text-center p-3">
                                        <a href="@($"project/{project.Id}")" class="btn btn-glass rounded-pill px-4 py-2 mb-3 shadow-sm transform-scale">
                                            <i class="bi bi-eye-fill me-2"></i>@L["Projects_ViewDetails"]
                                        </a>
                                        @if (!string.IsNullOrEmpty(project.GitHubUrl))
                                        {
                                            <a href="@project.GitHubUrl" target="_blank" class="btn btn-glass rounded-pill px-4 py-2 shadow-sm transform-scale">
                                                <i class="bi bi-github me-2"></i>GitHub
                                            </a>
                                        }
                                    </div>
                                    <div class="project-date-badge">
                                        <i class="bi bi-calendar-event me-1"></i>@project.CreatedDate.ToString("MMM yyyy")
                                    </div>
                                </div>
                                <div class="card-body p-4 d-flex flex-column">
                                    <h3 class="card-title h5 fw-bold mb-3 text-truncate-2 text-white">@project.Title</h3>
                                    <p class="card-text text-light opacity-75 mb-4 flex-grow-1 text-truncate-3">@project.ShortDescription</p>
                                    
                                    <div class="project-footer mt-auto pt-3 border-top border-secondary border-opacity-25">
                                        <div class="d-flex flex-wrap gap-2">
                                            @foreach (var tech in project.Technologies.Take(3))
                                            {
                                                <span class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-25 rounded-pill fw-normal px-3 py-2">
                                                    @tech
                                                </span>
                                            }
                                            @if (project.Technologies.Length > 3)
                                            {
                                                <span class="badge bg-dark text-light border border-secondary border-opacity-50 rounded-pill fw-normal px-2 py-2">
                                                    +@(project.Technologies.Length - 3)
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            }
        </div>
    </section>
</div>

<style>
    /* Hero Section */
    .projects-hero {
        background: linear-gradient(135deg, #2563eb 0%, #4f46e5 100%);
        min-height: 400px;
        display: flex;
        align-items: center;
    }

    .hero-bg-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px);
        background-size: 30px 30px;
        opacity: 0.5;
    }

    /* Project Card */
    .project-card {
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        /* Background is handled by card-enhanced class */
    }

    .project-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4) !important;
    }

    .card-img-wrapper {
        height: 240px;
        overflow: hidden;
    }

    .project-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s ease;
    }

    .project-card:hover .project-image {
        transform: scale(1.1);
    }

    .project-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(10, 15, 30, 0.85);
        opacity: 0;
        transition: all 0.3s ease;
        backdrop-filter: blur(4px);
    }

    .project-card:hover .project-overlay {
        opacity: 1;
    }

    .project-date-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(30, 41, 59, 0.9);
        color: var(--light-color);
        padding: 6px 14px;
        border-radius: 30px;
        font-size: 0.8rem;
        font-weight: 600;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        z-index: 1;
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(4px);
    }

    .transform-scale {
        transition: transform 0.2s ease;
    }
    
    .transform-scale:hover {
        transform: scale(1.05);
    }

    .hover-scale {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .hover-scale:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2) !important;
    }

    .text-truncate-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .text-truncate-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    @@media (max-width: 768px) {
        .projects-hero {
            min-height: auto;
            padding-top: 3rem !important;
            padding-bottom: 3rem !important;
        }
        
        .card-img-wrapper {
            height: 200px;
        }
    }
</style>

<!-- Projects SEO and Structured Data -->
<script type="application/ld+json">
{
  "@@context": "https://schema.org",
  "@@type": "FAQPage",
  "mainEntity": [
    {
      "@@type": "Question",
      "name": "Hangi teknolojilerle projeler geliştiriyorsun?",
      "acceptedAnswer": {
        "@@type": "Answer",
        "text": "C#, .NET Core, ASP.NET, Blazor WebAssembly, Xamarin.Forms, Python, Entity Framework, SQL Server, Firebase ve Azure teknolojileriyle web ve mobil uygulamalar geliştiriyorum."
      }
    },
    {
      "@@type": "Question", 
      "name": "Projelerinde hangi tür uygulamalar var?",
      "acceptedAnswer": {
        "@@type": "Answer",
        "text": "Portföyümde görme engelliler için görsel tanıma uygulaması, ilaç takip sistemi, e-ticaret platformu, steganografi uygulaması, chat uygulaması ve yazım denetleyicisi gibi çeşitli projeler bulunmaktadır."
      }
    },
    {
      "@@type": "Question",
      "name": "Projeler GitHub'da mevcut mu?",
      "acceptedAnswer": {
        "@@type": "Answer", 
        "text": "Evet, projelerimin kaynak kodları GitHub hesabımda (github.com/kadirbeskardes) açık kaynak olarak paylaşılmaktadır."
      }
    }
  ]
}
</script>

<script type="application/ld+json">
{
  "@@context": "https://schema.org",
  "@@type": "CollectionPage",
  "name": "Projeler - Kadir Beşkardeş",
  "description": "Full Stack Developer Kadir Beşkardeş'in geliştirdiği web ve mobil uygulama projeleri",
  "url": "https://kadirbeskardes.github.io/projects",
  "mainEntity": {
    "@@type": "ItemList",
    "name": "Yazılım Projeleri",
    "description": "C#, .NET, Python ve diğer teknolojilerle geliştirilmiş projeler",
    "numberOfItems": 6
  },
  "breadcrumb": {
    "@@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@@type": "ListItem",
        "position": 1,
        "name": "Ana Sayfa",
        "item": "https://kadirbeskardes.github.io/"
      },
      {
        "@@type": "ListItem", 
        "position": 2,
        "name": "Projeler",
        "item": "https://kadirbeskardes.github.io/projects"
      }
    ]
  }
}
</script>

@code {
    private List<Personal.Models.ProjectDetail>? projects;

    protected override async Task OnInitializedAsync()
    {
        projects = await ProjectService.GetProjectListingsAsync();
    }
}